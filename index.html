<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Project_04</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  </head>
  <body id="body">
    <div class="color_code">
      <h2 id="title">Generate A Dynamic Toast Message</h2>
      <button id="btn" class="mb-2 shadow">Change Color</button><br>
      <input type="text" id="output">
      <button id="copyBtn" title="copy color code">Copy</button>
    </div>
   
    
  





 <script type="text/javascript">
  let div = null;

   window.onload = () => {
    main();
   }

   function main(){
    const body    = document.querySelector('#body');
    const btn     = document.querySelector('#btn');
    const copyBtn = document.querySelector('#copyBtn');

    btn.addEventListener('click', function(){
      const bgColor = genaratorHexColor();
      body.style.backgroundColor = bgColor;
      output.value = bgColor
    })
    copyBtn.addEventListener('click', function(){
      window.navigator.clipboard.writeText(output.value);

      if (div !== null) {
        div.remove();
        div = null;
      }

      genaratorToastMsg(`${output.value} copyed`)
    })
   }

   function genaratorHexColor(){
    const red = Math.floor(Math.random()*255);
    const green = Math.floor(Math.random()*255);
    const blue = Math.floor(Math.random()*255);

    return `#${red.toString(16)}${green.toString(16)}${blue.toString(16)}`;
   }
   function genaratorToastMsg(msg){
    div = document.createElement('div');
    div.innerText = 'Copy Success';
    div.className = 'toast-msg toast-msg-slid-in';

    div.addEventListener('click', function(){
      div.classList.remove('toast-msg-slid-in');
      div.classList.add('toast-msg-slid-out');

      div.addEventListener('animationend', function(){
        div.remove();
        div = null;
      })
    })

    document.body.appendChild(div);
   }



  // #81593f
 </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  </body>
</html>